# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Miro –¥–ª—è –±–æ—Ç–∞ "–ê–¥–º–∏–Ω-–ö–æ"

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –±–æ—Ç–∞ —Å –¥–æ—Å–∫–æ–π Miro.

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- **–ú–µ—Ç–æ–¥**: OAuth 2.0 Bearer Token.
- **–û–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞ (Scopes)**: `boards:read`, `boards:write`.
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: –¢–æ–∫–µ–Ω –∏ ID –¥–æ—Å–∫–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ `miro/export.py` –∏ `miro/manager.py`.

## üìÇ –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

- `miro/export.py`: –°–∫—Ä–∏–ø—Ç –¥–ª—è "—Ö–æ–ª–æ–¥–Ω–æ–π" –≤—ã–≥—Ä—É–∑–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è –±–æ—Ç–∞. –°–æ–∑–¥–∞–µ—Ç –≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (—Å–æ–æ–±—â–µ–Ω–∏—è, –∫–Ω–æ–ø–∫–∏, –ª–æ–≥–∏–∫—É) –Ω–∞ –¥–æ—Å–∫–µ Miro —Å –Ω—É–ª—è.
- `miro/manager.py`: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –°—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Å–∫–∏, –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∏–≥—É—Ä—ã –∏ —Å—Ç—Ä–µ–ª–∫–∏ (connectors), –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –∏—Ö –≤ –ª–æ–≥–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

## ‚ö†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã –∏ –æ—à–∏–±–∫–∏ API Miro

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º—ã –≤—ã—è–≤–∏–ª–∏ —Ä—è–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π Miro API v2:

### 1. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
- **–û—à–∏–±–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `/items` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–≥—É—Ä.
- **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/shapes` (`POST https://api.miro.com/v2/boards/{board_id}/shapes`). –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/items` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –Ω–µ –¥–ª—è –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è.

### 2. –°—Ç–∏–ª–∏ –∏ —Ü–≤–µ—Ç–∞ (fillColor)
- **–û—à–∏–±–∫–∞**: `400 Bad Request` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `backgroundColor`.
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª–µ `backgroundColor` –≤ API v2 –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `fillColor`. –û–Ω–æ –¥–æ–ª–∂–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ `style`.
- **–ü—Ä–∏–º–µ—Ä**:
  ```json
  "style": { "fillColor": "#f9f1ff", "borderColor": "#7a00e6", "borderWidth": "2.0" }
  ```

### 3. –õ–∏–º–∏—Ç—ã (Rate Limits)
Miro API —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.
- **–†–µ—à–µ–Ω–∏–µ**: –ú–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –≤—Å—Ç—Ä–æ–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ `time.sleep(0.4)`. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–π –≤—ã–≥—Ä—É–∑–∫–µ 60+ –±–ª–æ–∫–æ–≤.

### 4. –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã –∏ –ø—Ä–∏–≤—è–∑–∫–∏
- –°—Ç—Ä–µ–ª–∫–∏ (connectors) —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `POST /connectors`.
- –í–∞–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `id` –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{"id": "..."}` –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–µ–π `startItem` –∏ `endItem`.
- –î–ª—è –ø–æ–¥–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–µ–ª–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ `captions`: `[{"content": "–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏"}]`.

### 5. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–µ—Ç–∫–∞
Miro API –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ Auto-layout.
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: –í `export.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞:
    - **MainMenu**: (0, 0)
    - **Test Flow**: –°–ª–µ–≤–∞ (-800 –ø–æ X)
    - **Services Flow**: –í —Ü–µ–Ω—Ç—Ä–µ (0 –ø–æ X)
    - **Cabinet Flow**: –°–ø—Ä–∞–≤–∞ (+400 –ø–æ X)
    - **Admin Flow**: –î–∞–ª–µ–∫–æ —Å–ø—Ä–∞–≤–∞ (+1200 –ø–æ X)

## üîÑ –¶–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (Sync Workflow)

1. **–≠–∫—Å–ø–æ—Ä—Ç**: –í—ã–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π –∫–æ–¥ –±–æ—Ç–∞ –≤ Miro —á–µ—Ä–µ–∑ `export.py`.
2. **–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—ã –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ Miro, –º–µ–Ω—è–µ—Ç–µ —Ç–µ–∫—Å—Ç—ã, –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ —Å–≤—è–∑–∏.
3. **–ò–º–ø–æ—Ä—Ç**: –ó–∞–ø—É—Å–∫–∞–µ–º `manager.py`. –û–Ω —Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–≤—è–∑–∏ –∏ –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É.
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞**: –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã –æ–±–Ω–æ–≤–ª—è–µ–º `handlers.py` –∏–ª–∏ `texts.py`.
